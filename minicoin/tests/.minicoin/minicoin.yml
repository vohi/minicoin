settings:
  # reset everything
  defaults: ~

  /test.*/:
    shared_folders:
      - $HOME_SHARE: $GUEST_HOMES/tester

jobconfigs: &testconfigs
  - job: test
    name: simple
    param1: value1
    param2: value2
    flag:

  - job: test
    name: complicated
    array1:
      - entry1
      - entry2
    spacey: foo bar
    quoted: hello "world"

roles: &mutagentest
  - role: mutagen
    paths:
      - ~/dev/minicoin/minicoin/tests
    options: --ignore-vcs
    ignores: "*-build"

machines:
  - ~ # remove default machines
  - name: empty
    box: testbox

  - name: test_linux
    box: generic/ubuntu2004
    jobconfigs: *testconfigs
  - name: test_mac
    box: tqtc/$minicoin_key/macos11
    jobconfigs: *testconfigs
  - name: test_windows
    box: tqtc/$minicoin_key/windows10
    jobconfigs: *testconfigs

  - name: test
    box: generic/ubuntu2004
    jobconfigs: *testconfigs
    roles: *mutagentest
  